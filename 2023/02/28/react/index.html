<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="react 基础react 项目创建12345678910node -vnpm -v    npm i -g create-react-app &#x2F;&#x2F; 全局下载 create-react-app 脚手架工具D:  &#x2F;&#x2F;进入D盘mkdir ReactDemo  &#x2F;&#x2F;创建ReactDemo文件夹create-react-app demo01   &#x2F;&#x2F;用脚手架创建React项目cd demo01   &#x2F;&#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="react">
<meta property="og:url" content="http://example.com/2023/02/28/react/index.html">
<meta property="og:site_name" content="旺旺小小酥">
<meta property="og:description" content="react 基础react 项目创建12345678910node -vnpm -v    npm i -g create-react-app &#x2F;&#x2F; 全局下载 create-react-app 脚手架工具D:  &#x2F;&#x2F;进入D盘mkdir ReactDemo  &#x2F;&#x2F;创建ReactDemo文件夹create-react-app demo01   &#x2F;&#x2F;用脚手架创建React项目cd demo01   &#x2F;&#x2F;">
<meta property="og:locale">
<meta property="og:image" content="c:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210629161829926.png">
<meta property="og:image" content="c:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210629161850386.png">
<meta property="og:image" content="c:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210630095759823.png">
<meta property="article:published_time" content="2023-02-28T06:21:52.000Z">
<meta property="article:modified_time" content="2023-03-02T16:25:47.744Z">
<meta property="article:author" content="zhaowang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210629161829926.png">

<link rel="canonical" href="http://example.com/2023/02/28/react/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>react | 旺旺小小酥</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">旺旺小小酥</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">路虽远，行则至</p>
      <a>
        <img class="custom-logo-image" src="/uploads/custom-logo.jpg" alt="旺旺小小酥">
      </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/react/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="zhaowang">
      <meta itemprop="description" content="病了就要吃药">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="旺旺小小酥">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          react
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 14:21:52" itemprop="dateCreated datePublished" datetime="2023-02-28T14:21:52+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-03-03 00:25:47" itemprop="dateModified" datetime="2023-03-03T00:25:47+08:00">2023-03-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="react-基础"><a href="#react-基础" class="headerlink" title="react 基础"></a>react 基础</h1><h1 id="react-项目创建"><a href="#react-项目创建" class="headerlink" title="react 项目创建"></a>react 项目创建</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line">    </span><br><span class="line">npm i -g create-react-app <span class="comment">// 全局下载 create-react-app 脚手架工具</span></span><br><span class="line"></span><br><span class="line">D:  <span class="comment">//进入D盘</span></span><br><span class="line">mkdir ReactDemo  <span class="comment">//创建ReactDemo文件夹</span></span><br><span class="line">create-react-app demo01   <span class="comment">//用脚手架创建React项目</span></span><br><span class="line">cd demo01   <span class="comment">//等创建完成后，进入项目目录</span></span><br><span class="line">npm start   <span class="comment">//预览项目，如果能正常打开，说明项目创建成功</span></span><br></pre></td></tr></table></figure>

<h1 id="第一个组件"><a href="#第一个组件" class="headerlink" title="第一个组件"></a>第一个组件</h1><p>再src 下新建一个index.js 文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;</span><br><span class="line">import App from &#x27;./App&#x27;</span><br><span class="line">ReactDOM.render(&lt;App /&gt;,document.getElementById(&#x27;root&#x27;))</span><br></pre></td></tr></table></figure>

<p>目前App组件还没有的，需要一会建立</p>
<p>App组件的编写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &#x27;react&#x27;</span><br><span class="line"></span><br><span class="line">class App extends Component&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                Hello JSPang</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>

<h1 id="JSX简介"><a href="#JSX简介" class="headerlink" title="JSX简介"></a>JSX简介</h1><p>JSX是js和XML结合的一种格式。 React发明了JSX，可以方便HTML语法来创建虚拟DOM， 遇到&lt;, JSX解析为HTML， 遇到{ 就当js解析</p>
<h2 id="组件和普通JSX语法区别"><a href="#组件和普通JSX语法区别" class="headerlink" title="组件和普通JSX语法区别"></a>组件和普通JSX语法区别</h2><p>组件首字母大写，JSX是小写字母开头</p>
<h2 id="JSX中使用js语法，-使用三元表达式"><a href="#JSX中使用js语法，-使用三元表达式" class="headerlink" title="JSX中使用js语法， 使用三元表达式"></a>JSX中使用js语法， 使用三元表达式</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;</span><br><span class="line">const Component = React.Component</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class App extends Component&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;ul className=&quot;my-list&quot;&gt;</span><br><span class="line">                &lt;li&gt;&#123;false?&#x27;JSPang.com&#x27;:&#x27;技术胖&#x27;&#125;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;I love React&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>

<h1 id="Frament-标签"><a href="#Frament-标签" class="headerlink" title="Frament 标签"></a>Frament 标签</h1><p>加上最外层的DIV，组件就是完全正常的，但是你的布局就偏不需要这个最外层的标签怎么办?比如我们在作<code>Flex</code>布局的时候,外层还真的不能有包裹元素。这种矛盾其实React16已经有所考虑了，为我们准备了<code>&lt;Fragment&gt;</code>标签。</p>
<p>要想使用<code>&lt;Fragment&gt;</code>，需要先进行引入。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>,&#123;<span class="title class_">Component</span>,<span class="title class_">Fragment</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br></pre></td></tr></table></figure>

<p>然后把最外层的<code>&lt;div&gt;</code>标签，换成<code>&lt;Fragment&gt;</code>标签，代码如下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>,&#123;<span class="title class_">Component</span>,<span class="title class_">Fragment</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Xiaojiejie</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span>&#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>  (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">Fragment</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> /&gt;</span> <span class="tag">&lt;<span class="name">button</span>&gt;</span> 增加服务 <span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                   <span class="tag">&lt;<span class="name">li</span>&gt;</span>头部按摩<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                   <span class="tag">&lt;<span class="name">li</span>&gt;</span>精油推背<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               <span class="tag">&lt;/<span class="name">ul</span>&gt;</span> </span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">Fragment</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Xiaojiejie</span> </span><br></pre></td></tr></table></figure>

<p>这时候你再去浏览器的<code>Elements</code>中查看，就回发现已经没有外层的包裹了。</p>
<h1 id="响应式设计和数据绑定"><a href="#响应式设计和数据绑定" class="headerlink" title="响应式设计和数据绑定"></a>响应式设计和数据绑定</h1><p><code>React</code>不建议你直接操作<code>DOM</code>元素,而是要通过数据进行驱动，改变界面中的效果。React会根据数据的变化，自动的帮助你完成界面的改变。所以在写React代码时，你无需关注DOM相关的操作，只需要关注数据的操作就可以了（这也是React如此受欢迎的主要原因，大大加快了我们的开发速度）。</p>
<p>。数据定义在<code>组件中的构造函数里</code>constructor&#96;。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//js的构造函数，由于其他任何函数执行</span></span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">props</span>)&#123;</span><br><span class="line">    <span class="variable language_">super</span>(props) <span class="comment">//调用父类的构造函数，固定写法</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span>=&#123;</span><br><span class="line">        <span class="attr">inputValue</span>:<span class="string">&#x27;&#x27;</span> , <span class="comment">// input中的值</span></span><br><span class="line">        <span class="attr">list</span>:[]    <span class="comment">//服务列表</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在<code>React</code>中的数据绑定和<code>Vue</code>中几乎一样，也是采用<code>字面量</code>(我自己起的名字)的形式，就是使用<code>&#123;&#125;</code>来标注，其实这也算是js代码的一种声明。比如现在我们要把<code>inputValue</code>值绑定到<code>input</code>框中，只要写入下面的代码就可以了。其实说白了就是在JSX中使用js代码。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&#123;this.state.inputValue&#125;</span> /&gt;</span> </span><br></pre></td></tr></table></figure>

<p>现在需要看一下是不是可以实现绑定效果，所以把<code>inputValue</code>赋予一个’jspang’，然后预览看一下效果。在这里我们并没有进行任何的<code>DOM</code>操作，但是界面已经发生了变化，这些都时<code>React</code>帮我们作的，它还会自动感知数据的变化。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/detailed?id=46#toc333">绑定事件</a></p>
<p>这时候你到界面的文本框中去输入值，是没有任何变化的，这是因为我们强制绑定了<code>inputValue</code>的值。如果要想改变，需要绑定<strong>响应事件</strong>，改变<code>inputValue</code>的值。比如绑定一个改变事件，这个事件执行<code>inputChange()</code>(当然这个方法还没有)方法。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&#123;this.state.inputValue&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.inputChange&#125;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>现在还没有<code>inputChange()</code>这个方法，在<code>render()</code>方法的下面建立一个<code>inputChange()</code>方法，代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inputChange(e)&#123;</span><br><span class="line">       console.log(e);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>这时候会发现响应事件可以使用了，但是如何获得我们输入的值那，程序中输入下面的代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">inputChange</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这时候控制台是可以打印出输入的值的，视频中会有演示。看到获得了输入的值，想当然的认为直接改变<code>inputValue</code>的值就可以了(错的).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">inputChange</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">inputValue</span>=e.<span class="property">target</span>.<span class="property">value</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>写完后再进行预览，会发现程序直接报错了（加项服务还真的有点难度哦,大宝剑不好作的………..）。</p>
<p>其实我们范了两个错误：</p>
<ol>
<li>一个是<code>this</code>指向不对，你需要重新用<code>bind</code>设置一下指向(ES6的语法)。</li>
<li>另一个是<code>React</code>中改变值需要使用<code>this.setState</code>方法。</li>
</ol>
<p>第一个错误很好解决，直接再<code>JSX</code>部分，利用<code>bind</code>进行绑定就好。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input value=&#123;this.state.inputValue&#125; onChange=&#123;this.inputChange.bind(this)&#125; /&gt;</span><br></pre></td></tr></table></figure>

<p>这步做完，我们还需要加入<code>setState</code>方法，改变值。代码如下:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">inputChange</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="comment">// console.log(e.target.value);</span></span><br><span class="line">    <span class="comment">// this.state.inputValue=e.target.value;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">        <span class="attr">inputValue</span>:e.<span class="property">target</span>.<span class="property">value</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在测试一下，输入框可以改变值了，其实这节课很重要，里边设计了<code>React</code>的重要思想，建议这节课可以反复多看两遍，虽然不难，但是这是一个最基本的思想的转变。下节课可要真的增加服务项目了。</p>
<h1 id="循环渲染列表"><a href="#循环渲染列表" class="headerlink" title="循环渲染列表"></a>循环渲染列表</h1><p>如何根据多个数据动态显示多个li标签</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">constructor(props)&#123;</span><br><span class="line">    super(props) //调用父类的构造函数，固定写法</span><br><span class="line">    this.state=&#123;</span><br><span class="line">        inputValue:&#x27;jspang&#x27; , // input中的值</span><br><span class="line">        //----------主要 代码--------start</span><br><span class="line">        list:[&#x27;基础按摩&#x27;,&#x27;精油推背&#x27;]   </span><br><span class="line">        //----------主要 代码--------end</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有了数据list之后，可以再jsx部分进行循环输出。代码如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">Frament</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">value</span>=<span class="string">&#123;this.state.inputValue&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.inputChange.bind(this)&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>增值服务<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">             	&#123;</span></span><br><span class="line"><span class="language-xml">                    this.state.map((item, index) =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">                        return <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#125;)</span></span><br><span class="line"><span class="language-xml">                &#125;     </span></span><br><span class="line"><span class="language-xml">             <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">Frament</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>完成上面的步骤，数据就不再是固定的了，而是动态管理的，也为我们接下来的添加打下了基础，剩下的步骤也显得很简单了</p>
<h1 id="解决key值错误"><a href="#解决key值错误" class="headerlink" title="解决key值错误"></a>解决key值错误</h1><p>。这个错误的大概意思就是缺少<code>key值</code>。就是在用map循环时，需要设置一个不同的值，这个时React的要求。我们可以暂时用<code>index+item</code>的形式来实现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        this.state.list.map((item,index)=&gt;&#123;</span><br><span class="line">            return &lt;li key=&#123;index+item&#125;&gt;&#123;item&#125;&lt;/li&gt;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/ul&gt;  </span><br></pre></td></tr></table></figure>

<h1 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h1><p>获得了数据下标后,删除数据就变的容易起来.先声明一个局部变量,然后利用传递过来的下标,删除数组中的值.删除后用<code>setState</code>更新数据就可以了.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除单项服务</span></span><br><span class="line"><span class="title function_">deleteItem</span>(<span class="params">index</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> list = <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span></span><br><span class="line">    list.<span class="title function_">splice</span>(index,<span class="number">1</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">        <span class="attr">list</span>:list</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其实这里边是有一个坑的,有的小伙伴肯定会认为下面的代码也是正确的.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除单项服务</span></span><br><span class="line"><span class="title function_">deleteItem</span>(<span class="params">index</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span>.<span class="title function_">splice</span>(index,<span class="number">1</span>) <span class="comment">// 这里直接删除是有问题的</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">        <span class="attr">list</span>:<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span></span><br><span class="line">    &#125;) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>记住React是禁止直接操作state的,虽然上面的方法也管用,但是在后期的性能优化上会有很多麻烦,所以一定不要这样操作.这也算是我<code>React</code>初期踩的比较深的一个坑,希望小伙伴们可以跳坑.</p>
<h1 id="JSX-几个坑"><a href="#JSX-几个坑" class="headerlink" title="JSX 几个坑"></a>JSX 几个坑</h1><ol>
<li><p>注释的写法要再{} 中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//第一次写注释，这个是错误的</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;input value=&#123;this.state.inputValue&#125; onChange=&#123;this.inputChange.bind(this)&#125; /&gt;</span><br><span class="line">    &lt;button onClick=&#123;this.addList.bind(this)&#125;&gt; 增加服务 &lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;/* 正确注释的写法 */&#125;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;input value=&#123;this.state.inputValue&#125; onChange=&#123;this.inputChange.bind(this)&#125; /&gt;</span><br><span class="line">    &lt;button onClick=&#123;this.addList.bind(this)&#125;&gt; 增加服务 &lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>class 的写法 要用className 而不是 class</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 错误写法</span><br><span class="line">&lt;input class=&quot;input&quot; value=&#123;this.state.inputValue&#125;  /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 正确写法 使用className</span><br><span class="line">&lt;input className=&quot;input&quot; value=&#123;this.state.inputValue&#125;  /&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>html 解析问题， 如果我们想再文本input 中输入 <h1></h1> 并进行渲染， 是不会生效的</p>
<p>， 可以使用 dangerouslySetInnerHTML 属性解决</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &#123;</span><br><span class="line">      this.state.list.map((item, index) =&gt; &#123;</span><br><span class="line">          return &lt;li key=&#123;index+item&#125; onClick=&#123;this.deleteItem.bind(this, index)&#125; dangerouslySetInnerHTML=&#123;&#123;__html:item&#125;&#125;&gt;&lt;/li&gt;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">         &lt;/ul&gt;</span><br></pre></td></tr></table></figure>



<p><img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210629161829926.png" alt="image-20210629161829926"></p>
<p><img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210629161850386.png" alt="image-20210629161850386"></p>
</li>
<li><p>关于label 也是个不小的坑</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>加入服务：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">className</span>=<span class="string">&quot;input&quot;</span> <span class="attr">value</span>=<span class="string">&#123;this.state.inputValue&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.inputChange.bind(this)&#125;</span> /&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.addList.bind(this)&#125;</span>&gt;</span> 增加服务 <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>我们如果想 点击加入服务时 也input 框进行聚焦的话， 按照之前html 的思路 只需要使用 id； 即：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;jspang&quot;</span>&gt;</span>加入服务：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;jspang&quot;</span> <span class="attr">className</span>=<span class="string">&quot;input&quot;</span> <span class="attr">value</span>=<span class="string">&#123;this.state.inputValue&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.inputChange.bind(this)&#125;</span> /&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.addList.bind(this)&#125;</span>&gt;</span> 增加服务 <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>** 但是这个再jsx 中时会报错的， 会提示你使用htmlFor</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;label htmlFor=&quot;jspang&quot;&gt;加入服务：&lt;/label&gt;</span><br><span class="line">    &lt;input id=&quot;jspang&quot; className=&quot;input&quot; value=&#123;this.state.inputValue&#125; onChange=&#123;this.inputChange.bind(this)&#125; /&gt;</span><br><span class="line">    &lt;button onClick=&#123;this.addList.bind(this)&#125;&gt; 增加服务 &lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="simple-React-Snippets-插件"><a href="#simple-React-Snippets-插件" class="headerlink" title="simple React Snippets 插件"></a>simple React Snippets 插件</h1><p>imrc 快速引入语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br></pre></td></tr></table></figure>

<p>cc  快速生成以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class  extends Component &#123;</span><br><span class="line">    state = &#123;  &#125;</span><br><span class="line">    render() &#123; </span><br><span class="line">        return (  );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default ;</span><br></pre></td></tr></table></figure>

<h1 id="父子组件传值"><a href="#父子组件传值" class="headerlink" title="父子组件传值"></a>父子组件传值</h1><h2 id="父组件向子组件传值：-靠属性的方式进行传值"><a href="#父组件向子组件传值：-靠属性的方式进行传值" class="headerlink" title="父组件向子组件传值： 靠属性的方式进行传值"></a>父组件向子组件传值： 靠属性的方式进行传值</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123; <span class="comment">// 父组件中</span></span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">son</span> <span class="attr">content</span> = <span class="string">&#123;a&#125;</span>&gt;</span> // 利用 content 属性 传递值时 a 的值 </span></span><br><span class="line"><span class="language-xml">	)</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">// 子组件中</span></span><br><span class="line"><span class="language-xml">class Son extends Component &#123;</span></span><br><span class="line"><span class="language-xml">	render() &#123;</span></span><br><span class="line"><span class="language-xml">		return &#123; // 在子组件中就可以直接拿到porps 中的 content</span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">div</span>&gt;</span> &#123;this.props.content&#125; <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		&#125;</span></span><br><span class="line"><span class="language-xml">	&#125;</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br><span class="line"><span class="language-xml">export default Son</span></span><br></pre></td></tr></table></figure>





<h2 id="子组件向父组件传值"><a href="#子组件向父组件传值" class="headerlink" title="子组件向父组件传值"></a>子组件向父组件传值</h2><p>因为react规定，子组件不能直接操作父组件里的数据， 所以要借助一个父组件的方法 deleteOne（也就是将父组件的deleteOne方法传递给子组件）</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件中</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">	<span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123; <span class="comment">// 在子组件中就可以直接拿到porps 中的 content</span></span><br><span class="line">			<span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick.bind(this)&#125;</span>&gt;</span> &#123;this.props.content&#125; <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="title function_">handleClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">props</span>.<span class="title function_">deleteItem</span>(<span class="number">1</span>) <span class="comment">// 这里执行deleteItem 其实就是执行父组件的 deleteOne 方法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Son</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123; <span class="comment">// 父组件中</span></span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">son</span> <span class="attr">content</span> = <span class="string">&#123;a&#125;</span> <span class="attr">deleteItem</span>=<span class="string">&#123;this.deleteOne&#125;</span>&gt;</span> // 利用 deleteItem 属性 传递 方法给子组件 </span></span><br><span class="line"><span class="language-xml">	)</span></span><br><span class="line"><span class="language-xml">    deleteOne(val) &#123;</span></span><br><span class="line"><span class="language-xml">        this.setState(&#123; // val就是1</span></span><br><span class="line"><span class="language-xml">            a: val</span></span><br><span class="line"><span class="language-xml">        &#125;)</span></span><br><span class="line"><span class="language-xml">    &#125;</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">**** react中state改变了，组件才会update。</span></span><br><span class="line"><span class="language-xml">1. 父写好state和处理该state的函数，同时将函数名通过props属性值的形式传入子，</span></span><br><span class="line"><span class="language-xml">2. 子调用父的函数可以进行传递数据，同时引起state变化</span></span><br></pre></td></tr></table></figure>



<h1 id="react-单项数据流"><a href="#react-单项数据流" class="headerlink" title="react 单项数据流"></a>react 单项数据流</h1><p>对于父子间传递过来的数据， 子组件只能读取， 不能进行修改；</p>
<h1 id="PropTypes-应用"><a href="#PropTypes-应用" class="headerlink" title="PropTypes 应用"></a>PropTypes 应用</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">improt PropTypes from &#x27;prop-types&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class XiaojiejieItem extends Component &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PropTypes 用来限制从父组件传递过来的数据类型；因为大型项目，如果你不校验，后期会变的异常混乱，业务逻辑也没办法保证。</span><br><span class="line">XiaojiejieItem.propTypes = &#123; </span><br><span class="line">	content: PropTypes.string,</span><br><span class="line">	deleteItem: PropTypes.func,</span><br><span class="line">	index: PropTypes.number.isRequired // 表示必须做</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 默认值 props ： 表示如果我们没有传递属性值， 可以默认给一个值</span><br><span class="line"></span><br><span class="line">XiaojiejieItem.defaultProps = &#123;</span><br><span class="line">	avname: &#x27;松岛枫&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="ref-的使用"><a href="#ref-的使用" class="headerlink" title="ref 的使用"></a>ref 的使用</h1><p>再编写组件方法时， 经常会遇到语义化很模糊的代码，这对于review 或者合作开发 是很不友好的。 或者当核心成员离开时， 项目甚至会面临倒闭的问题。 我们必须重视react 代码中的语义话。 ref 是个不错的工具</p>
<ol>
<li><p>代替原来的e.target.value</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">inputChange</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">		<span class="attr">inputValue</span>: e.<span class="property">target</span>.<span class="property">value</span></span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment">/*使用ref进行， 现在jsx中进行绑定，使用es6语法*/</span>&#125;；</span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;&quot;</span> value=&#123;<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">inputValue</span>&#125;</span><br><span class="line">	onChange=&#123;<span class="variable language_">this</span>.<span class="property">inputChange</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>)&#125;</span><br><span class="line">	ref=&#123;<span class="function">(<span class="params">input</span>) =&gt;</span> &#123;<span class="variable language_">this</span>.<span class="property">input</span> = input&#125;&#125;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用ref语义话绑定后的 方法代码</span></span><br><span class="line"><span class="title function_">inputChange</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">        <span class="attr">inputValue</span>: <span class="variable language_">this</span>.<span class="property">input</span>.<span class="property">value</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="ref的坑，-setState-是一个异步函数"><a href="#ref的坑，-setState-是一个异步函数" class="headerlink" title="ref的坑， setState 是一个异步函数"></a>ref的坑， setState 是一个异步函数</h1><p><a target="_blank" rel="noopener" href="https://jspang.com/detailed?id=46#toc367"><code>ref</code>使用中的坑</a></p>
<p>比如现在我们要用ref绑定取得要服务的数量，可以先用<code>ref</code>进行绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul ref=&#123;<span class="function">(<span class="params">ul</span>)=&gt;</span>&#123;<span class="variable language_">this</span>.<span class="property">ul</span>=ul&#125;&#125;&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span>.<span class="title function_">map</span>(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (</span><br><span class="line">                <span class="language-xml"><span class="tag">&lt;<span class="name">XiaojiejieItem</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">key</span>=<span class="string">&#123;index+item&#125;</span>  </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">content</span>=<span class="string">&#123;item&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">index</span>=<span class="string">&#123;index&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">deleteItem</span>=<span class="string">&#123;this.deleteItem.bind(this)&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                /&gt;</span></span></span><br><span class="line">            )</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/ul&gt;  </span><br></pre></td></tr></table></figure>

<p>绑定后可以在<code>addList()</code>方法中，获取当前<code>&lt;div&gt;</code>的值.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="title function_">addList</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">        <span class="attr">list</span>:[...<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span>,<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">inputValue</span>],</span><br><span class="line">        <span class="attr">inputValue</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//关键代码--------------start</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">ul</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;div&#x27;</span>).<span class="property">length</span>)</span><br><span class="line">    <span class="comment">//关键代码--------------end</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这时候你打开控制台，点击添加服务按钮，你会返现数量怎么少一个？（就是这个坑），其实这个坑是因为React中更多<code>setState</code>是一个异步函数所造成的。也就是这个<code>setState</code>，代码执行是有一个时间的，如果你真的想了解清楚，你需要对什么是虚拟DOM有一个了解。简单的说，就是因为是异步，还没等虚拟Dom渲染，我们的<code>console.log</code>就已经执行了。</p>
<p>那这个代码怎么编写才会完全正常那，其实<code>setState</code>方法提供了一个回调函数，也就是它的第二个函数。下面这样写就可以实现我们想要的方法了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">addList</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">        <span class="attr">list</span>:[...<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span>,<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">inputValue</span>],</span><br><span class="line">        <span class="attr">inputValue</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="comment">//关键代码--------------start</span></span><br><span class="line">    &#125;,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">ul</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;div&#x27;</span>).<span class="property">length</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//关键代码--------------end</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在到浏览器中查看代码，就完全正常了。这节课主要学习了<code>ref</code>的用法和<code>ref</code>中的坑。学完后练习一下吧，代码这东西，不练习你是学不会的。</p>
<h1 id="React-的生命周期"><a href="#React-的生命周期" class="headerlink" title="React 的生命周期"></a>React 的生命周期</h1><ul>
<li><p>四个阶段</p>
<ol>
<li>初始化阶段： initialization</li>
<li>挂载阶段：mounting : componentWillMount、 render、 componentDidMount</li>
<li>更新阶段：updating : shouldCompoentUpdate、 componentWillUpdate、 componentDidUpdate、 componentWillReceiveProps</li>
<li>销毁阶段: unmounting</li>
</ol>
</li>
<li><p>什么是生命周期函数： 在某个时刻组件会自动调用执行的函数</p>
<p>例如： render 函数就是一个生命周期函数， 它会在state 发生改变时自动执行</p>
</li>
<li><p>mounting 阶段 叫做挂载阶段， 伴随这整个虚拟DOM的生成， 它里面有三个小的生命周期函数， 分别是</p>
<ol>
<li><p>componentWillMount: 组件即将被挂载到页面的时刻执行。</p>
</li>
<li><p>render: 页面state或props发生改变时执行。</p>
</li>
<li><p>componentDidMount: 组件挂载完成时执行。</p>
<ul>
<li><p>注意：</p>
<p>componentWillMount 和 componentDIdMout 这两个生命周期函数， 只在页面中刷新时执行一次，而render 只要在 state 和 props 变化就会执行</p>
<p><img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210630095759823.png" alt="image-20210630095759823"></p>
</li>
</ul>
</li>
</ol>
</li>
<li><p>updating 阶段 组件发生改变更新的阶段：  有两个基本的部分引发更新： 1. props 属性改变， 2. state状态改变</p>
<ol>
<li><p>shouldComponentUpdate 在组件更新之前， 自动执行。 这个函数必须要求返回一个boolean 值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">shouldComponentUpdate(nextProps, nextState) &#123;</span><br><span class="line">	// nextProps 表示下一个props的值</span><br><span class="line">	// nextstate 表示下一个state的值</span><br><span class="line">	// 当props 改变或者 state 改变 react 会渲染整个组件；</span><br><span class="line">	if (nextProps.title === this.props.title) &#123;</span><br><span class="line">		return false // 如果两次title 相同没必要去进行渲染 浪费性能</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		return true</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 返回true 同意组件更新 </span><br><span class="line">// 返回false 不同一组件更新</span><br></pre></td></tr></table></figure>

<p>如果返回false 那么组件就不会执行componentWillUpdate函数</p>
</li>
<li><p>componentWillUpdate 函数， 也发生在组件更新之前执行， 但在shouldComponentUpdate之后 执行。如果 shouldComponentUpdate 返回false ， 这个函数就不会执行</p>
</li>
<li><p>componentDidUpdate 函数， 在组件更新之后执行，</p>
</li>
<li><p>compoentWillReceiveProps</p>
<p>这个函数如果是顶层组件 那么就不执行； 如果是子组件， 那么接受到父组件传递过来的参数，此时</p>
<p><code> 父组件render函数执行时，这个函数也会被执行。简单说这个函数执行取决于父组件的是否更新</code></p>
</li>
</ol>
</li>
<li><p>销毁阶段</p>
<ol>
<li>componentWillUnmount 函数， 当组件从页面中删除的时候执行</li>
</ol>
</li>
</ul>
<h1 id="npm-install-xxx-和-npm-install-xxx-g-、-npm-i-xxx-–save、-npm-i-xxx-–save-dev-的区别"><a href="#npm-install-xxx-和-npm-install-xxx-g-、-npm-i-xxx-–save、-npm-i-xxx-–save-dev-的区别" class="headerlink" title="npm install  xxx  和 npm install xxx -g  、 npm i xxx –save、 npm i xxx –save-dev 的区别"></a>npm install  xxx  和 npm install xxx -g  、 npm i xxx –save、 npm i xxx –save-dev 的区别</h1><ol>
<li>npm i xxx 安装第三方包到项目目录下， 不会将模块依赖写入 devDependence 和 dependencies </li>
<li>npm i xxx -g ： 安装包到磁盘中， 具体在哪个磁盘要看 npm cinfig prefix 的位置</li>
<li>npm i –save xxx:  –save 的意思是将模块安装到项目目录下并在dependencies 写入， 运行依赖</li>
<li>npm i –save-dev xxx: –save-dev 会安装在项目目录下 并在devDenpendencies 写入 开发依赖</li>
</ol>
<h1 id="安装-react-transition-group"><a href="#安装-react-transition-group" class="headerlink" title="安装 react-transition-group"></a>安装 react-transition-group</h1><ol>
<li><p>首先进行安装模块 npm install react-transition-group –savae</p>
<p>这个模块有三个核心库 Transiton CssTransition TransitonGroup</p>
</li>
<li><p>使用CssTransition</p>
<ul>
<li><p>引入 import {CssTransition} from ‘react-transition-group’;</p>
</li>
<li><p>&#96;&#96;&#96;<br>render() {<br>return (<br>    <div><br>        &lt;CSSTransition &#x2F;&#x2F;这里使用csstransition 进行包裹 <div>BOSS级人物-孙悟空</div><br>            in&#x3D;{this.state.isShow}   &#x2F;&#x2F;用于判断是否出现的状态<br>            timeout&#x3D;{2000}           &#x2F;&#x2F;动画持续时间<br>            classNames&#x3D;”boss-text”   &#x2F;&#x2F;className值，防止重复 这里写的classNames<br>        &gt;<br>            <div>BOSS级人物-孙悟空</div><br>        </CSSTransition><br>        <div><button onClick={this.toToggole}>召唤Boss</button></div><br>    </div><br>    );<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- css样式</span><br><span class="line"></span><br><span class="line">  - xxx-enter: 进入（入场）前的CSS样式；</span><br><span class="line">  - xxx-enter-active:进入动画直到完成时之前的CSS样式;</span><br><span class="line">  - xxx-enter-done:进入完成时的CSS样式;</span><br><span class="line">  - xxx-exit:退出（出场）前的CSS样式;</span><br><span class="line">  - xxx-exit-active:退出动画知道完成时之前的的CSS样式。</span><br><span class="line">  - xxx-exit-done:退出完成时的CSS样式</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>.boss-text-enter{<br>opacity: 0;<br>}<br>.boss-text-enter-active{<br>opacity: 1;<br>transition: opacity 2000ms;<br>}<br>.boss-text-enter-done{<br>opacity: 1;<br>}<br>.boss-text-exit{<br>opacity: 1;<br>}<br>.boss-text-exit-active{<br>opacity: 0;<br>transition: opacity 2000ms;<br>}<br>.boss-text-exit-done{<br>opacity: 0;<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 我们给`&lt;CSSTransition&gt;`加上`unmountOnExit`,加上这个的意思是在元素退场时，自动把DOM也删除，这是以前用CSS动画没办法做到的。</span><br><span class="line"></span><br><span class="line"># transitionGroup</span><br><span class="line"></span><br><span class="line">&lt;CSSTransition&gt; 只能控制一个DOM元素的动画， 向控制多个动画  需要使用 transitionGroup 模块</span><br><span class="line"></span><br><span class="line">1. 引入</span><br><span class="line"></span><br><span class="line">   ```jsx</span><br><span class="line">   import &#123;CSSTransition, TransitionGroup&#125; from &#x27;react-transition-group&#x27;;</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="2">
<li><p>用<TransitionGroup> 包裹住 多个 dom 元素</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul ref=&#123;<span class="function">(<span class="params">ul</span>)=&gt;</span>&#123;<span class="variable language_">this</span>.<span class="property">ul</span>=ul&#125;&#125;&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">TransitionGroup</span>&gt;</span> &#123;/*这里包裹住了多个dom内容*/&#125;</span></span><br><span class="line"><span class="language-xml">    &#123;</span></span><br><span class="line"><span class="language-xml">        this.state.list.map((item,index)=&gt;&#123;</span></span><br><span class="line"><span class="language-xml">            return (</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">CSSTransition</span> <span class="attr">这里一定要加入</span>&lt;<span class="attr">CssTranstion</span>&gt;</span> 标签</span></span><br><span class="line"><span class="language-xml">                    timeout=&#123;1000&#125;</span></span><br><span class="line"><span class="language-xml">                    classNames=&#x27;boss-text&#x27;</span></span><br><span class="line"><span class="language-xml">                    unmountOnExit</span></span><br><span class="line"><span class="language-xml">                    appear=&#123;true&#125;</span></span><br><span class="line"><span class="language-xml">                    key=&#123;index+item&#125;  </span></span><br><span class="line"><span class="language-xml">                &gt;</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">XiaojiejieItem</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">content</span>=<span class="string">&#123;item&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">index</span>=<span class="string">&#123;index&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">deleteItem</span>=<span class="string">&#123;this.deleteItem.bind(this)&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    /&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">CSSTransition</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            )</span></span><br><span class="line"><span class="language-xml">        &#125;)</span></span><br><span class="line"><span class="language-xml">    &#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">TransitionGroup</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span>  </span><br></pre></td></tr></table></figure>
</li>
<li><p>这里一定要加入<CssTranstion> 标签 ， 可以为dom 设置classNames 属性和 timeout等</p>
</li>
</ol>
</li>
</ol>
<h1 id="react-redux"><a href="#react-redux" class="headerlink" title="react-redux"></a>react-redux</h1><h1 id="react-router"><a href="#react-router" class="headerlink" title="react-router"></a>react-router</h1><p>react-router 是一个基础react的路由库， 它可以让你向应用中快速添加视图和数据流， 同时保持页面与url间的同步。 凡是ract技术栈的项目， 都需要用到react-router；</p>
<h2 id="用create-react-app-脚手架初始化项目"><a href="#用create-react-app-脚手架初始化项目" class="headerlink" title="用create-react-app 脚手架初始化项目"></a>用create-react-app 脚手架初始化项目</h2><ol>
<li><p><code>cnpm install -g create-react-app</code> </p>
</li>
<li><p>直接使用脚手架工具创建项目</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">D:  //进入D盘</span><br><span class="line">mkdir ReactRouterDemo   //创建ReactRouterDemo文件夹</span><br><span class="line">cd ReactRouterDemo      //进入文件夹</span><br><span class="line">create-react-app demo  //用脚手架创建React项目</span><br><span class="line">cd demo   //等项目创建完成后，进入项目目录</span><br><span class="line">npm  start  //预览项</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装react-router <code>cnpm install --save react-router-dom</code></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://jspang.com/detailed?id=49#toc34">编写一个最简单的路由程序</a></p>
<p>首先我们改写<code>src</code>文件目录下的<code>index.js</code>代码。改为下面的代码,具体的意思在视频中讲解:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AppRouter</span> <span class="keyword">from</span> <span class="string">&#x27;./AppRouter&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">AppRouter</span>/&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>现在的<code>AppRouter</code>组件是没有的，我们可以在<code>src</code>目录下建立一个<code>AppRouter.js</code>文件，然后写入下面的代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserRouter</span> <span class="keyword">as</span> <span class="title class_">Router</span>, <span class="title class_">Route</span>, <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Index</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>JSPang.com<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">List</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>List-Page<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">AppRouter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Router</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span> <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">Link</span>&gt;</span> <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/list/&quot;</span>&gt;</span>列表<span class="tag">&lt;/<span class="name">Link</span>&gt;</span> <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">exact</span> <span class="attr">component</span>=<span class="string">&#123;Index&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/list/&quot;</span> <span class="attr">component</span>=<span class="string">&#123;List&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">AppRouter</span>;</span><br></pre></td></tr></table></figure>

<p>这时候就可以到浏览器中看一下效果了，如果一切正常，就可以实现页面跳转。但这只是最简单的页面跳转，第一节课先学这么多。</p>
</li>
</ol>
<h1 id="使用ReactRouter"><a href="#使用ReactRouter" class="headerlink" title="使用ReactRouter"></a>使用ReactRouter</h1><h2 id="编写index组件"><a href="#编写index组件" class="headerlink" title="编写index组件"></a>编写index组件</h2><p>先在<code>/src</code>目录下建立一个文件夹，我这里起名叫做<code>Pages</code>（你可以起任何名字），然后建立一个组件文件<code>Index.js</code>。这里边我们就完全安装工作中的模式来写，只是没有什么业务逻辑，UI也制作的相当加简单。代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Index</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(props);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;  &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123; </span><br><span class="line">        <span class="keyword">return</span> (  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>JSPang.com<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Index</span>;</span><br></pre></td></tr></table></figure>

<h2 id="编写List组件"><a href="#编写List组件" class="headerlink" title="编写List组件"></a>编写List组件</h2><p>编写完<code>Index</code>组件以后，继续编写<code>List</code>组件。其实这个组件和<code>Index</code>基本一样。代码如下: 再pages文件 创建 List.js 文件s</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">List</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(props);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;  &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123; </span><br><span class="line">        <span class="keyword">return</span> (  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>List Page<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">List</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改AppRouter-js"><a href="#修改AppRouter-js" class="headerlink" title="修改AppRouter.js"></a>修改AppRouter.js</h2><p>两个组件制作完成后，我们把它引入路由配置文件，然后进行路由的配置就可以了，代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserRouter</span> <span class="keyword">as</span> <span class="title class_">Router</span>, <span class="title class_">Route</span>, <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Index</span> <span class="keyword">from</span> <span class="string">&#x27;./Pages/Index&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">List</span> <span class="keyword">from</span> <span class="string">&#x27;./Pages/List&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">AppRouter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Router</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span> <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">Link</span>&gt;</span> <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/list/&quot;</span>&gt;</span>列表<span class="tag">&lt;/<span class="name">Link</span>&gt;</span> <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">exact</span> <span class="attr">component</span>=<span class="string">&#123;Index&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/list/&quot;</span> <span class="attr">component</span>=<span class="string">&#123;List&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">AppRouter</span>;</span><br></pre></td></tr></table></figure>

<p>现在看起来就和我们实际工作中差不多了，也和我们平时写的普通<code>html</code>页面很类似了。</p>
<h2 id="exact-精准匹配的意思"><a href="#exact-精准匹配的意思" class="headerlink" title="exact 精准匹配的意思"></a>exact 精准匹配的意思</h2><p>精准匹配就是你的路径信息要完全匹配成功。 才可以实现跳转。 匹配一部分是不行的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route path=&quot;/&quot;  component=&#123;Index&#125; /&gt;</span><br><span class="line">&lt;Route path=&quot;/list/&quot; component=&#123;List&#125; /&gt;</span><br><span class="line"></span><br><span class="line">//  这种情况会 把 Index 和 List 都匹配到</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route path=&quot;/&quot; exact component=&#123;Index&#125; /&gt;</span><br><span class="line">&lt;Route path=&quot;/list/&quot; component=&#123;List&#125; /&gt;</span><br><span class="line"></span><br><span class="line">// 这种情况是正常情况</span><br></pre></td></tr></table></figure>

<h1 id="reactRouter-动态传值"><a href="#reactRouter-动态传值" class="headerlink" title="reactRouter 动态传值"></a>reactRouter 动态传值</h1><p>之前已经搞定了 链接跳转的问题，</p>
<p>那现在想象这样一个场景，在一个很多文章的列表页面，然后点击任何一个链接，都可以准确的打开详细的文章内容，<code>这就需要靠传递文章ID，然后后台准确检索文章内容最后呈现</code>。这个过程每次传递到<code>详细页面的ID值</code>都是不一样的，所以就需要路由有动态传值的能力</p>
<h2 id="再Route上设置允许动态传值"><a href="#再Route上设置允许动态传值" class="headerlink" title="再Route上设置允许动态传值"></a>再Route上设置允许动态传值</h2><p><code>&lt;Route path=&quot;/list:/id&quot; component=&#123;List&#125;&gt;</code></p>
<p>就是path上加上<code>:id</code>。 这样就设置了允许传值规则</p>
<h2 id="Link-上传递值"><a href="#Link-上传递值" class="headerlink" title="Link 上传递值"></a>Link 上传递值</h2><p>设置好规则后，就可以在<code>Link</code>上设置值了，现在设置传递的ID值了，这时候不用再添加id了，直接写值就可以了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li&gt;&lt;Link to=&quot;/list/123&quot;&gt;列表&lt;/Link&gt; &lt;/li&gt;</span><br></pre></td></tr></table></figure>

<p>现在就可以进行传值了。为了方便你的学习，这里给出全部<code>AppRouter.js</code>代码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, Link &#125; from &quot;react-router-dom&quot;;</span><br><span class="line">import Index from &#x27;./Pages/Index&#x27;</span><br><span class="line">import List from &#x27;./Pages/List&#x27;</span><br><span class="line">function AppRouter() &#123;  </span><br><span class="line">    return (    </span><br><span class="line">        &lt;Router&gt;        </span><br><span class="line">            &lt;ul&gt;            </span><br><span class="line">                &lt;li&gt; &lt;Link to=&quot;/&quot;&gt;首页&lt;/Link&gt; &lt;/li&gt;            </span><br><span class="line">                &lt;li&gt;&lt;Link to=&quot;/list/123&quot;&gt;列表&lt;/Link&gt; &lt;/li&gt;        </span><br><span class="line">            &lt;/ul&gt;        </span><br><span class="line">            &lt;Route path=&quot;/&quot; exact component=&#123;Index&#125; /&gt;        </span><br><span class="line">            &lt;Route path=&quot;/list/:id&quot; component=&#123;List&#125; /&gt;    </span><br><span class="line">        &lt;/Router&gt;  </span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line">export default AppRouter;</span><br></pre></td></tr></table></figure>

<h2 id="在List组件上接受并显示传递值"><a href="#在List组件上接受并显示传递值" class="headerlink" title="在List组件上接受并显示传递值"></a>在List组件上接受并显示传递值</h2><p>组件接收传递过来的值的时候，可以在声明周期<code>componentDidMount</code>中进行，传递的值在<code>this.props.match</code>中。我们可以先打印出来,代码如下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">List</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;    </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;        </span><br><span class="line">        <span class="variable language_">super</span>(props);        </span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;  &#125;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;         </span><br><span class="line">        <span class="keyword">return</span> (  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>List Page<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> );    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="comment">//-关键代码---------start    </span></span><br><span class="line">    <span class="title function_">componentDidMount</span>(<span class="params"></span>)&#123;        </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">match</span>)    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="comment">//-关键代码---------end</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">List</span>;</span><br></pre></td></tr></table></figure>

<p>然后在浏览器的控制台中可以看到打印出的对象，对象包括三个部分:</p>
<ul>
<li>patch:自己定义的路由规则，可以清楚的看到是可以产地id参数的。</li>
<li>url: 真实的访问路径，这上面可以清楚的看到传递过来的参数是什么。</li>
<li>params：传递过来的参数，<code>key</code>和<code>value</code>值。</li>
</ul>
<p>明白了match中的对象属性，就可以轻松取得传递过来的ID值了。代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">List</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;    </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;        </span><br><span class="line">        <span class="variable language_">super</span>(props);        </span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;  &#125;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;         </span><br><span class="line">        <span class="keyword">return</span> (  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>List Page-&gt;&#123;this.state.id&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> );    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="title function_">componentDidMount</span>(<span class="params"></span>)&#123;       </span><br><span class="line">        <span class="comment">// console.log(this.props.match.params.id)       </span></span><br><span class="line">        <span class="keyword">let</span> tempId=<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">match</span>.<span class="property">params</span>.<span class="property">id</span>        </span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">id</span>:tempId &#125;)    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">List</span>;</span><br></pre></td></tr></table></figure>

<p>这样就实现了动态传值，需要注意的是如果你不传任何东西，是没办法匹配路由成功的。下一节我们更加形象的作一个动态列表，然后进行动态传值。这节课算是一个理论基础吧。</p>
<h2 id="模拟一个列表数组"><a href="#模拟一个列表数组" class="headerlink" title="模拟一个列表数组"></a><a target="_blank" rel="noopener" href="https://jspang.com/detailed?id=49#toc315">模拟一个列表数组</a></h2><p>现在可以在<code>Index</code>组件里模拟一个列表数组，就相当于我们从后台动态获取到的内容，然后数组中包括文章的<code>cid</code>和<code>title</code>。直接在state初始化时进行设置，代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;    </span><br><span class="line">     <span class="variable language_">super</span>(props);    </span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">state</span> = &#123;         </span><br><span class="line">        <span class="attr">list</span>:[            </span><br><span class="line">            &#123;<span class="attr">cid</span>:<span class="number">123</span>,<span class="attr">title</span>:<span class="string">&#x27;技术胖的个人博客-1&#x27;</span>&#125;,            </span><br><span class="line">            &#123;<span class="attr">cid</span>:<span class="number">456</span>,<span class="attr">title</span>:<span class="string">&#x27;技术胖的个人博客-2&#x27;</span>&#125;,            </span><br><span class="line">            &#123;<span class="attr">cid</span>:<span class="number">789</span>,<span class="attr">title</span>:<span class="string">&#x27;技术胖的个人博客-3&#x27;</span>&#125;,        </span><br><span class="line">        ]    </span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有了<code>list</code>数组后，再修改一下UI，进行有效的遍历，<code>Render</code>代码如下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="title function_">render</span>(<span class="params"></span>) &#123;     </span><br><span class="line">    <span class="keyword">return</span> (         </span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>            </span></span><br><span class="line"><span class="language-xml">        &#123;                </span></span><br><span class="line"><span class="language-xml">            this.state.list.map((item,index)=&gt;&#123;                    </span></span><br><span class="line"><span class="language-xml">                return (                        </span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span> &#123;item.title&#125; </span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">li</span>&gt;</span>                    </span></span><br><span class="line"><span class="language-xml">                )                </span></span><br><span class="line"><span class="language-xml">            &#125;)            </span></span><br><span class="line"><span class="language-xml">        &#125;        </span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span>    </span><br><span class="line">)&#125;</span><br></pre></td></tr></table></figure>

<p>列表已经可以在<code>Index</code>组件里显示出来了，接下来可以配置<code>&lt;Link&gt;</code>了,在配置之前，你需要先引入<code>Link</code>组件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>引入后直接使用进行跳转就可以，但是需要注意一点，要用<code>&#123;&#125;</code>的形式，也就是把<code>to</code>里边的内容解析成JS的形式，这样才能顺利的传值过去。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;     </span><br><span class="line">    <span class="keyword">return</span> (         </span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>            </span></span><br><span class="line"><span class="language-xml">        &#123;                </span></span><br><span class="line"><span class="language-xml">            this.state.list.map((item,index)=&gt;&#123;                    </span></span><br><span class="line"><span class="language-xml">                return (                        </span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span>                            </span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#123;</span>&#x27;/<span class="attr">list</span>/&#x27;+<span class="attr">item.uid</span>&#125;&gt;</span> &#123;item.title&#125;<span class="tag">&lt;/<span class="name">Link</span>&gt;</span>                         </span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">li</span>&gt;</span>                    </span></span><br><span class="line"><span class="language-xml">                )                </span></span><br><span class="line"><span class="language-xml">            &#125;)            </span></span><br><span class="line"><span class="language-xml">        &#125;        </span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span>    </span><br><span class="line">)&#125;</span><br></pre></td></tr></table></figure>

<p>到目前为止，已经很类似我们项目中的列表向详细页进行传值了。为了方便你学习，给出<code>Index.js</code>的所有代码.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Index</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;    </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;        </span><br><span class="line">        <span class="variable language_">super</span>(props);        </span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;             </span><br><span class="line">            <span class="attr">list</span>:[                </span><br><span class="line">                &#123;<span class="attr">uid</span>:<span class="number">123</span>,<span class="attr">title</span>:<span class="string">&#x27;技术胖的个人博客-1&#x27;</span>&#125;,                </span><br><span class="line">                &#123;<span class="attr">uid</span>:<span class="number">456</span>,<span class="attr">title</span>:<span class="string">&#x27;技术胖的个人博客-2&#x27;</span>&#125;,                </span><br><span class="line">                &#123;<span class="attr">uid</span>:<span class="number">789</span>,<span class="attr">title</span>:<span class="string">&#x27;技术胖的个人博客-3&#x27;</span>&#125;,            </span><br><span class="line">            ]         </span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;         </span><br><span class="line">        <span class="keyword">return</span> (             </span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>                </span></span><br><span class="line"><span class="language-xml">            &#123;                    </span></span><br><span class="line"><span class="language-xml">                this.state.list.map((item,index)=&gt;&#123;                        </span></span><br><span class="line"><span class="language-xml">                    return (                            </span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span>                               </span></span><br><span class="line"><span class="language-xml">                            <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#123;</span>&#x27;/<span class="attr">list</span>/&#x27;+<span class="attr">item.uid</span>&#125;&gt;</span> &#123;item.title&#125;<span class="tag">&lt;/<span class="name">Link</span>&gt;</span>                             </span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;/<span class="name">li</span>&gt;</span>                        </span></span><br><span class="line"><span class="language-xml">                    )                    </span></span><br><span class="line"><span class="language-xml">                &#125;)                </span></span><br><span class="line"><span class="language-xml">            &#125;            </span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span>        </span><br><span class="line">    )    </span><br><span class="line">&#125;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Index</span>;</span><br></pre></td></tr></table></figure>

<p>通过四小节的学习，你一定对<code>React Router</code>有了基本的了解，接下来的学习会稍微提升一点难度，所以你先要把这四小节课学好，练好.再向下进行。</p>
<h1 id="reactRouter-重定向-redirect-使用"><a href="#reactRouter-重定向-redirect-使用" class="headerlink" title="reactRouter 重定向-redirect 使用"></a>reactRouter 重定向-redirect 使用</h1><ul>
<li>标签式重定向：利用<Redirect> 标签来进行重定向，业务逻辑不复杂时建议使用这种。</li>
<li>编程式重定向： 利用编程的方式， 一般用于业务逻辑当中，比如登录成功跳转到会员中心</li>
</ul>
<p>重定向和跳转有一个重要的区别：</p>
<p>跳转是可以用浏览器回退按钮 返回上一级的， 而重定向是不可以的</p>
<h2 id="标签式重定向"><a href="#标签式重定向" class="headerlink" title="标签式重定向"></a>标签式重定向</h2><p>首先建立一个<code>Home.js</code>的页面，这个页面我还是用快速生成的方式来进行编写，代码如下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Home</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;    </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;        </span><br><span class="line">        <span class="variable language_">super</span>(props);        </span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;  &#125;    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;         </span><br><span class="line">        <span class="keyword">return</span> (  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是 Home 页面<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> );    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Home</span>;</span><br></pre></td></tr></table></figure>

<p>这个页面非常简单，就是一个普通的有状态组件。</p>
<p>有了组件后可以配置一下路由规则，也就是在<code>AppRouter.js</code>里加一个<code>&lt;Route&gt;</code>配置，配置时记得引入<code>Home</code>组件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;./Pages/Home&#x27;</span>&lt;<span class="title class_">Route</span> path=<span class="string">&quot;/home/&quot;</span> component=&#123;<span class="title class_">Home</span>&#125; /&gt;</span><br></pre></td></tr></table></figure>

<p>之后打开<code>Index.js</code>文件，从<code>Index</code>组件重新定向到<code>Home</code>组件，需要先引入<code>Redirect</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Link</span> , <span class="title class_">Redirect</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>引入<code>Redirect</code>后，直接在<code>render</code>函数里使用就可以了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Redirect</span> to=<span class="string">&quot;/home/&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>

<p>现在就可以实现页面的重定向。</p>
<h2 id="编程式重定向"><a href="#编程式重定向" class="headerlink" title="编程式重定向"></a><a target="_blank" rel="noopener" href="https://jspang.com/detailed?id=49#toc318">编程式重定向</a></h2><p>编程式重定向就是不再利用<code>&lt;Redirect/&gt;</code>标签，而是直接使用<code>JS</code>的语法实现重定向。他一般用在业务逻辑比较发杂的场合或者需要多次判断的场合。我们这里就不模拟复杂场景了，还是利用上边的例子实现一下，让大家看到结果就好。</p>
<p>比如直接在构造函数<code>constructor</code>中加入下面的重定向代码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.props.history.push(&quot;/home/&quot;);  </span><br></pre></td></tr></table></figure>

<p>就可以顺利实现跳转，这样看起来和上面的过程是一样的。这两种方式的重定向你可以根据真实需求使用，这样能让你的程序更加的灵活。课后你可以试着模拟用户的登录过程试着用一下这样的跳转。</p>
<h1 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h1><p>后台管理系统， 大部分是用嵌套路由，来实现页面总体划分。</p>
<h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p><code>create-react-app demo2</code></p>
<p><code>npm isntall --save react-router-dom</code></p>
<h2 id="初始化基本目录"><a href="#初始化基本目录" class="headerlink" title="初始化基本目录"></a>初始化基本目录</h2><p>再src下建立page文件夹。 然后再page下创建video 和 workplace。 然后再src下建立Approuter.js 该文件是路由配置文件</p>
<h1 id="react-router-1"><a href="#react-router-1" class="headerlink" title="react-router"></a>react-router</h1>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/02/28/vue/" rel="prev" title="vue">
      <i class="fa fa-chevron-left"></i> vue
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/02/28/webpack/" rel="next" title="webpack">
      webpack <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#react-%E5%9F%BA%E7%A1%80"><span class="nav-number">1.</span> <span class="nav-text">react 基础</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#react-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA"><span class="nav-number">2.</span> <span class="nav-text">react 项目创建</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="nav-number">3.</span> <span class="nav-text">第一个组件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSX%E7%AE%80%E4%BB%8B"><span class="nav-number">4.</span> <span class="nav-text">JSX简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E5%92%8C%E6%99%AE%E9%80%9AJSX%E8%AF%AD%E6%B3%95%E5%8C%BA%E5%88%AB"><span class="nav-number">4.1.</span> <span class="nav-text">组件和普通JSX语法区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSX%E4%B8%AD%E4%BD%BF%E7%94%A8js%E8%AF%AD%E6%B3%95%EF%BC%8C-%E4%BD%BF%E7%94%A8%E4%B8%89%E5%85%83%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">4.2.</span> <span class="nav-text">JSX中使用js语法， 使用三元表达式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Frament-%E6%A0%87%E7%AD%BE"><span class="nav-number">5.</span> <span class="nav-text">Frament 标签</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="nav-number">6.</span> <span class="nav-text">响应式设计和数据绑定</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E6%B8%B2%E6%9F%93%E5%88%97%E8%A1%A8"><span class="nav-number">7.</span> <span class="nav-text">循环渲染列表</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3key%E5%80%BC%E9%94%99%E8%AF%AF"><span class="nav-number">8.</span> <span class="nav-text">解决key值错误</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="nav-number">9.</span> <span class="nav-text">删除数据</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSX-%E5%87%A0%E4%B8%AA%E5%9D%91"><span class="nav-number">10.</span> <span class="nav-text">JSX 几个坑</span></a></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">11.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#simple-React-Snippets-%E6%8F%92%E4%BB%B6"><span class="nav-number">12.</span> <span class="nav-text">simple React Snippets 插件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC"><span class="nav-number">13.</span> <span class="nav-text">父子组件传值</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%88%B6%E7%BB%84%E4%BB%B6%E5%90%91%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC%EF%BC%9A-%E9%9D%A0%E5%B1%9E%E6%80%A7%E7%9A%84%E6%96%B9%E5%BC%8F%E8%BF%9B%E8%A1%8C%E4%BC%A0%E5%80%BC"><span class="nav-number">13.1.</span> <span class="nav-text">父组件向子组件传值： 靠属性的方式进行传值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E7%BB%84%E4%BB%B6%E5%90%91%E7%88%B6%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC"><span class="nav-number">13.2.</span> <span class="nav-text">子组件向父组件传值</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#react-%E5%8D%95%E9%A1%B9%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="nav-number">14.</span> <span class="nav-text">react 单项数据流</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PropTypes-%E5%BA%94%E7%94%A8"><span class="nav-number">15.</span> <span class="nav-text">PropTypes 应用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ref-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">16.</span> <span class="nav-text">ref 的使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ref%E7%9A%84%E5%9D%91%EF%BC%8C-setState-%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%82%E6%AD%A5%E5%87%BD%E6%95%B0"><span class="nav-number">17.</span> <span class="nav-text">ref的坑， setState 是一个异步函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#React-%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">18.</span> <span class="nav-text">React 的生命周期</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#npm-install-xxx-%E5%92%8C-npm-install-xxx-g-%E3%80%81-npm-i-xxx-%E2%80%93save%E3%80%81-npm-i-xxx-%E2%80%93save-dev-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">19.</span> <span class="nav-text">npm install  xxx  和 npm install xxx -g  、 npm i xxx –save、 npm i xxx –save-dev 的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-react-transition-group"><span class="nav-number">20.</span> <span class="nav-text">安装 react-transition-group</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#react-redux"><span class="nav-number">21.</span> <span class="nav-text">react-redux</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#react-router"><span class="nav-number">22.</span> <span class="nav-text">react-router</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8create-react-app-%E8%84%9A%E6%89%8B%E6%9E%B6%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="nav-number">22.1.</span> <span class="nav-text">用create-react-app 脚手架初始化项目</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8ReactRouter"><span class="nav-number">23.</span> <span class="nav-text">使用ReactRouter</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E5%86%99index%E7%BB%84%E4%BB%B6"><span class="nav-number">23.1.</span> <span class="nav-text">编写index组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E5%86%99List%E7%BB%84%E4%BB%B6"><span class="nav-number">23.2.</span> <span class="nav-text">编写List组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9AppRouter-js"><span class="nav-number">23.3.</span> <span class="nav-text">修改AppRouter.js</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#exact-%E7%B2%BE%E5%87%86%E5%8C%B9%E9%85%8D%E7%9A%84%E6%84%8F%E6%80%9D"><span class="nav-number">23.4.</span> <span class="nav-text">exact 精准匹配的意思</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#reactRouter-%E5%8A%A8%E6%80%81%E4%BC%A0%E5%80%BC"><span class="nav-number">24.</span> <span class="nav-text">reactRouter 动态传值</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%8DRoute%E4%B8%8A%E8%AE%BE%E7%BD%AE%E5%85%81%E8%AE%B8%E5%8A%A8%E6%80%81%E4%BC%A0%E5%80%BC"><span class="nav-number">24.1.</span> <span class="nav-text">再Route上设置允许动态传值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Link-%E4%B8%8A%E4%BC%A0%E9%80%92%E5%80%BC"><span class="nav-number">24.2.</span> <span class="nav-text">Link 上传递值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8List%E7%BB%84%E4%BB%B6%E4%B8%8A%E6%8E%A5%E5%8F%97%E5%B9%B6%E6%98%BE%E7%A4%BA%E4%BC%A0%E9%80%92%E5%80%BC"><span class="nav-number">24.3.</span> <span class="nav-text">在List组件上接受并显示传递值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E6%8B%9F%E4%B8%80%E4%B8%AA%E5%88%97%E8%A1%A8%E6%95%B0%E7%BB%84"><span class="nav-number">24.4.</span> <span class="nav-text">模拟一个列表数组</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#reactRouter-%E9%87%8D%E5%AE%9A%E5%90%91-redirect-%E4%BD%BF%E7%94%A8"><span class="nav-number">25.</span> <span class="nav-text">reactRouter 重定向-redirect 使用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE%E5%BC%8F%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">25.1.</span> <span class="nav-text">标签式重定向</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">25.2.</span> <span class="nav-text">编程式重定向</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="nav-number">26.</span> <span class="nav-text">嵌套路由</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="nav-number">26.1.</span> <span class="nav-text">创建项目</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%9F%BA%E6%9C%AC%E7%9B%AE%E5%BD%95"><span class="nav-number">26.2.</span> <span class="nav-text">初始化基本目录</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#react-router-1"><span class="nav-number">27.</span> <span class="nav-text">react-router</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zhaowang"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">zhaowang</p>
  <div class="site-description" itemprop="description">病了就要吃药</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/izhaowang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;izhaowang" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:izhwang@126.com" title="E-Mail → mailto:izhwang@126.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhaowang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
